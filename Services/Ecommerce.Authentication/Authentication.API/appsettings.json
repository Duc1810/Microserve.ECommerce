{
  "ConnectionStrings": {
    "DefaultConnection": "Host=localhost;Port=5435;Database=AuthDb;Username=postgres;Password=postgres"
  },
  "AuthOptions": {
    "IssuerUri": "https://localhost:7202",
    "TokenEndpoint": "https://localhost:7202/connect/token",
    "RevocationEndpoint": "https://localhost:7202/connect/revocation",
    "ClientId": "ecom.web",
    "ClientSecret": "supersecret",
    "Scope": "openid profile email roles ecommerce.api offline_access"
  },
  "ApiAuth": {
    "Authority": "https://localhost:7202",
    "Audience": "ecommerce.api",
    "RequireHttpsMetadata": true
  },
  "DataProtection": {
    "KeyFolder": "dp_keys",
    "AppName": "AuthServerDev"
  },
  "Logging": {
    "LogLevel": {
      "Default": "Information",
      "Microsoft": "Warning"
    }
  },
  "Elastic": {
    "Enabled": true,
    "Uri": "http://elasticsearch:9200",
    "IndexPrefix": "ecommerce-auth"
  },
  "MessageBroker": {
    "Host": "amqp://localhost:5672",
    "UserName": "guest",
    "Password": "guest",
    "RoutingKeys": {
      "UserCreated": "user.created"
    }
  },
  "Authentication": {
    "Issuer": "https://localhost:7202",
    "Audience": "ecommerce.api",
    "RequireHttpsMetadata": false,
    "ClockSkewMinutes": 2,
    "EnableBearerHeaderPatch": true,
    "Jwks": {
      "Uri": "https://localhost:7202/.well-known/openid-configuration/jwks",
      "ValidAlgorithms": [ "RS256" ],
      "AllowInsecureDevCertificate": true
    },
    "ScopeClaimRequired": "ecommerce.api"
  },
  //"ConsulOptions": {
  //  "Id": null, 
  //  "Name": "authapi",
  //  "DiscoveryAddress": "http://consul:8500",
  //  "HealthCheckEndPoint": "health"
  //},
  "AllowedHosts": "*"
}
